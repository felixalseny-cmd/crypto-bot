<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FXWave Gold Gateway</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>
  <style>
    .qr-container { display: none; }
    .qr-container.active { display: block; }
  </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
  <main class="container mx-auto px-4 py-10">
    <div class="max-w-4xl mx-auto">
      <div class="bg-gray-800 bg-opacity-80 backdrop-blur-lg rounded-xl p-8 shadow-2xl">
        <div class="text-center mb-8">
          <h1 class="text-4xl font-bold mb-2 bg-gradient-to-r from-yellow-400 to-yellow-600 text-transparent bg-clip-text">
            FXWave VIP Access
          </h1>
          <p class="text-gray-300">Choose plan and currency to subscribe</p>
        </div>

        <!-- Выбор плана -->
        <div class="mb-6">
          <h3 class="text-lg font-bold mb-3">1. Select Plan</h3>
          <div class="flex space-x-4">
            <button onclick="selectPlan('1month')" id="btn-1m" class="px-4 py-2 bg-gray-700 rounded">1 Month</button>
            <button onclick="selectPlan('3months')" id="btn-3m" class="px-4 py-2 bg-gray-700 rounded">3 Months</button>
          </div>
        </div>

        <!-- Выбор валюты -->
        <div class="mb-6">
          <h3 class="text-lg font-bold mb-3">2. Choose Currency</h3>
          <div class="flex space-x-4">
            <button onclick="selectCurrency('USDT')" id="btn-usdt" class="px-4 py-2 bg-yellow-600 rounded">USDT (TRC20)</button>
            <button onclick="selectCurrency('TON')" id="btn-ton" class="px-4 py-2 bg-green-600 rounded">TON</button>
          </div>
        </div>

        <!-- USDT -->
        <div id="usdt-block" class="qr-container active">
          <h4 class="font-bold mb-2">Send to (USDT TRC20):</h4>
          <code id="usdt-addr" class="block bg-gray-800 p-2 rounded mb-2 break-all">TVRGFPKVs1nN3fUXBTQfu5syTcmYGgADre</code>
          <img id="qr-usdt" src="/qr?currency=USDT&plan=1month" alt="USDT QR" class="mx-auto mb-2" width="200" />
          <button onclick="copy('usdt-addr')" class="text-sm text-yellow-400">Copy address</button>
        </div>

        <!-- TON -->
        <div id="ton-block" class="qr-container">
          <h4 class="font-bold mb-2">Send to (TON):</h4>
          <code id="ton-addr" class="block bg-gray-800 p-2 rounded mb-2 break-all">UQDpCH-pGSzp3zEkpJY1Wc46gaorw9K-7T9FX7gHTrthMWMj</code>
          <p class="text-xs italic text-gray-500 mb-2">Данный адрес предназначен только для системы TON</p>
          <img id="qr-ton" src="/qr?currency=TON&plan=1month" alt="TON QR" class="mx-auto mb-2" width="200" />
          <button onclick="copy('ton-addr')" class="text-sm text-green-400">Copy address</button>
        </div>

        <p class="mt-6 text-sm text-gray-400">
          After payment, send transaction hash to
          <a href="https://t.me/fxgoldwave_bot" class="text-yellow-400">@fxgoldwave_bot</a>
        </p>
      </div>
    </div>
  </main>

  <script>
    let currentPlan = '1month';
    let currentCurrency = 'USDT';

    function selectPlan(plan) {
      currentPlan = plan;
      document.querySelectorAll('#btn-1m, #btn-3m').forEach(btn => btn.classList.remove('bg-yellow-500'));
      document.getElementById(plan === '1month' ? 'btn-1m' : 'btn-3m').classList.add('bg-yellow-500');
      updateQR();
    }

    function selectCurrency(currency) {
      currentCurrency = currency;
      document.getElementById('usdt-block').classList.toggle('active', currency === 'USDT');
      document.getElementById('ton-block').classList.toggle('active', currency === 'TON');
      document.getElementById('btn-usdt').classList.toggle('bg-yellow-500', currency === 'USDT');
      document.getElementById('btn-ton').classList.toggle('bg-green-500', currency === 'TON');
      updateQR();
    }

    function updateQR() {
      document.getElementById('qr-usdt').src = `/qr?currency=USDT&plan=${currentPlan}&t=${Date.now()}`;
      document.getElementById('qr-ton').src = `/qr?currency=TON&plan=${currentPlan}&t=${Date.now()}`;
    }

    function copy(id) {
      const text = document.getElementById(id).textContent;
      navigator.clipboard.writeText(text).then(() => alert('Copied!'));
    }
  </script>
</body>
</html>
